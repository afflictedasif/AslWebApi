@using AslWebApi.DTOs;
@using AslWebApi.DAL.Models;
@model AslWebApi.DTOs.ScreenShotsVM;
@addTagHelper*, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>ScreenShots</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>


    <style>
        .captiontext {
            position: fixed;
            top: 80%;
            z-index: 100 !important;
            left:45%!important;
            background-color: hsla(0, 0%, 0%,0.5) !important;
        }
    </style>
</head>
<body style="background-color:black;">

    <div class="container">

        @if (Model.ScreenShots is not null && Model.ScreenShots.Count() > 0)
        {


            <div id="carouselExampleControlsNoTouching" class="carousel slide" data-bs-touch="false" data-bs-interval="false">

                <div class="carousel-indicators" style="position:relative; top:550px;">
                    @{
                        int countIndicator = 0;
                    }
                    }
                    @foreach (ScreenShot ss in Model.ScreenShots)
                    {
                        if (countIndicator == 0)
                        {
                            <button type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        }
                        else
                        {
                            <button type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide-to="@countIndicator" aria-current="true" aria-label="Slide @countIndicator"></button>
                        }
                        countIndicator++;
                    }

                </div>

                <div class="carousel-inner">
                    @{
                        int count = 0;
                    }
                    @foreach (ScreenShot ss in Model.ScreenShots)
                    {
                        count++;
                        string fullPath = ss.DirPath + "\\" + ss.FileName;


                        fullPath = "\\screenShots\\" + (fullPath.Split("ScreenShots"))[1];

                        @*<div>
                            </div>
                            <text>@ss.InTime.ToString() &nbsp;</text>
                            <br />
                            <img src="@fullPath" />
                            <hr />*@



                        @*<div class="card" style="width: 33%; float:left">
                            <a href="@fullPath" target="_blank">
                            <img class="card-img-top" src="@fullPath" alt="Card image cap">
                            </a>
                            <div class="card-body">
                            <p class="card-text">@ss.InTime.ToString() &nbsp;</p>
                            </div>
                            </div>*@


                        @if (count == 1)
                        {
                            <div class="carousel-item active">
                                <img class="d-block w-75" style="margin:auto;" src="@fullPath" alt="Card image cap">
                                <div class="carousel-caption d-none d-md-block">
                                    <span class="captiontext">@ss.InTime.ToString() &nbsp;</span>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="carousel-item">
                                <img class="d-block w-75" style="margin:auto;" src="@fullPath" alt="Card image cap">
                                <div class="carousel-caption d-none d-md-block">
                                    <span class="captiontext">@ss.InTime.ToString() &nbsp;</span>
                                </div>
                            </div>
                        }

                    }
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControlsNoTouching" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        }


    </div>
</body>
</html>
